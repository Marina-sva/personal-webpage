<section>
  <div class="container">
    <div class="quote-slider"
         (click)="onClick($event)"
         (mouseenter)="stopAutoplay()"
         (mouseleave)="startAutoplay()"
         (touchstart)="onTouchStart($event)"
         (touchend)="onTouchEnd($event)">

      <div class="q-track"
           [style.transform]="'translateX(-' + currentIndex * 100 + '%)'">

      <article *ngFor="let t of testimonials; let i = index"
               class="q-slide"
               [attr.aria-label]="(i+1) + ' von ' + testimonials.length">
        <div class="quote-block">
          <div class="q-meta">
            <div class="q-avatar">
              <picture>
                <source [srcset]="t.avatarWebp" type="image/webp">
                <img [src]="t.avatarJpg" [alt]="t.name + ', ' + t.role" width="40" height="40" loading="lazy">
              </picture>
            </div>
            <div>
              <div class="q-person">{{ t.name }}</div>
              <div class="q-role">{{ t.role }}</div>
            </div>
          </div>
          <p class="quote">{{ t.quote }}</p>
        </div>
      </article>
    </div>

    <div class="q-dots" role="tablist" aria-label="Slides">
      <button *ngFor="let t of testimonials; let i = index"
              role="tab"
              [attr.aria-selected]="i === currentIndex"
              [attr.aria-controls]="'q-slide-' + (i+1)"
              [tabIndex]="i === currentIndex ? 0 : -1"
              (click)="show(i)">
      </button>
    </div>
  </div>
  </div>
</section>
