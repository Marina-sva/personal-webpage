<section>
  <div class="quote-slider" role="region" aria-roledescription="carousel" aria-label="Kundenstimmen" aria-live="polite"
       (mouseenter)="stopAutoplay()" (mouseleave)="startAutoplay()">
    <div class="q-track">
      <article *ngFor="let t of testimonials; let i = index"
               class="q-slide"
               [class.is-active]="i === currentIndex"
               [attr.aria-roledescription]="'slide'"
               [attr.aria-label]="(i+1) + ' von ' + testimonials.length"
               [id]="'q-slide-' + (i+1)">
        <div class="quote-block">
          <div class="q-meta">
            <div class="q-avatar">
              <picture>
                <source [srcset]="t.avatarWebp" type="image/webp">
                <img [src]="t.avatarJpg" [alt]="t.name + ', ' + t.role" width="40" height="40" loading="lazy" decoding="async">
              </picture>
            </div>
            <div>
              <div class="q-person">{{ t.name }}</div>
              <div class="q-role">{{ t.role }}</div>
            </div>
          </div>
          <p class="quote">{{ t.quote }}</p>
        </div>
      </article>
    </div>

    <div class="q-dots" role="tablist" aria-label="Slides">
      <button *ngFor="let t of testimonials; let i = index"
              role="tab"
              [attr.aria-selected]="i === currentIndex"
              [attr.aria-controls]="'q-slide-' + (i+1)"
              [tabIndex]="i === currentIndex ? 0 : -1"
              (click)="show(i)">
      </button>
    </div>
  </div>
</section>
